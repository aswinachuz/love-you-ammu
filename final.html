/* TYPEWRITER LETTER */

function startLoveLetterTypewriter(){
const el=document.getElementById("typewriterText");
if(!el) return;

const text=`I don't know when you became
the most important part of my day.

Talking to you makes everything better.
Even a normal day feels special
when you are in it.

I may not be perfect,
but my feelings for you are real.

I just want to make you smile,
be there for you,
and stay beside you
for a very long time.

So‚Ä¶ will you be mine?
‚ù§Ô∏è`;

let i=0;
const speed=50;

function type(){
if(i<text.length){
el.textContent+=text.charAt(i);
i++;
setTimeout(type,speed);
}
}
type();
}

/* PAGE LOAD */
document.addEventListener("DOMContentLoaded",()=>{

startLoveLetterTypewriter();

const yes=document.getElementById("finalYesBtn");
const no=document.getElementById("thinkAgainBtn");
const msg=document.getElementById("finalMessage");
const img=document.getElementById("foreverImage");

/* YES CLICK */
yes.onclick=()=>{
playFireworks();
msg.textContent="You are officially my forever ‚ù§Ô∏è";

setTimeout(()=>{
img.classList.add("show");
},700);

yes.disabled=true;
no.disabled=true;
};

/* RUNAWAY BUTTON */
no.onmouseover=()=>move(no);
no.ontouchstart=(e)=>{e.preventDefault();move(no);};

});

/* MOVE BUTTON */
function move(btn){
const x=(Math.random()-0.5)*350;
const y=(Math.random()-0.5)*350;
btn.style.transform=`translate(${x}px,${y}px)`;
}

/* FIREWORKS */
function playFireworks(){
for(let i=0;i<70;i++){
const f=document.createElement("div");
f.className="firework";
f.innerText=["‚ú®","üíñ","üíù","üéÜ"][Math.floor(Math.random()*4)];

const x=window.innerWidth*Math.random();
const y=window.innerHeight*Math.random()*0.6;

const tx=(Math.random()-0.5)*300;
const ty=(Math.random()-0.5)*300;

f.style.left=x+"px";
f.style.top=y+"px";
f.style.setProperty("--tx",tx+"px");
f.style.setProperty("--ty",ty+"px");

document.body.appendChild(f);
setTimeout(()=>f.remove(),1500);
}
}
